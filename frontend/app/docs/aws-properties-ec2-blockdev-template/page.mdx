# AWS::EC2::인스턴스 EBS

EBS 볼륨에 대한 블록 장치를 지정합니다.

`Ebs` 은 Amazon EC2 BlockDeviceMapping 속성의 속성입니다.

**중요하다**  
인스턴스가 실행된 후에는 `DeleteOnTermination` 인스턴스를 중단하지 않고 연결된 볼륨에 대한 파라미터만 수정할 수 있습니다. 다른 매개 변수를 수정하면 인스턴스가 바뀝니다.

## 통사론

AWS CloudFormation 템플릿에서 이 엔터티를 선언하려면 다음 구문을 사용합니다.

### JSON (영문)

```
{
  "DeleteOnTermination" : Boolean,
  "Encrypted" : Boolean,
  "Iops" : Integer,
  "KmsKeyId" : String,
  "SnapshotId" : String,
  "VolumeSize" : Integer,
  "VolumeType" : String
}
```

## 속성

`DeleteOnTermination`  
인스턴스 종료 시 EBS 볼륨이 삭제되는지 여부를 나타냅니다. 자세한 내용은 Amazon EC2 사용 설명서의 인스턴스 종료 시 Amazon EBS 볼륨 보존을 참조하세요\**.  
*필수 항목 *여부: 아니요  
*유형*: Boolean  
*업데이트 필요 사항\*: 중단 없음

`Encrypted`  
볼륨을 암호화해야 하는지 여부를 나타냅니다. 암호화 상태를 로 설정하면 `true` 볼륨 오리진(새 또는 스냅샷에서), 시작 암호화 상태, 소유권 및 기본적으로 암호화가 활성화되는지 여부에 따라 달라집니다. 자세한 내용은 *Amazon Elastic Compute Cloud 사용 설명서*의 기본적으로 암호화를 참조하세요.  
암호화된 Amazon EBS 볼륨은 Amazon EBS 암호화를 지원하는 인스턴스에 연결되어야 합니다. 자세한 내용은 지원되는 인스턴스 유형을 참조하세요.  
인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`Iops`  
IOPS(초당 I/O 작업 수)입니다. `gp3`, `io1`및 `io2` volumes의 경우 볼륨에 대해 프로비저닝된 IOPS 수를 나타냅니다. `gp2` 볼륨의 경우 이는 볼륨의 기준 성능과 볼륨이 버스팅을 위해 I/O 크레딧을 누적하는 속도를 나타냅니다.  
다음은 각 볼륨 유형에 대해 지원되는 값입니다.

- `gp3`: 3,000-16,000 IOPS
- `io1`: 100-64,000 초당 이력
- `io2`: 100-64,000 초당 이력
  볼륨 `io1` 의 `io2` 경우 Nitro 시스템에 구축된 인스턴스에 대해서만 64,000 IOPS를 보장합니다. 다른 인스턴스 패밀리는 최대 32,000 IOPS의 성능을 보장합니다.  
  이 매개변수는 `io1` 및 `io2` 볼륨에 필요합니다. 볼륨의 기본값은 `gp3` 3,000 IOPS입니다. 이 매개변수는 `gp2`, `st1`, `sc1`또는 `standard` 볼륨에 대해 지원되지 않습니다.  
  인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
  _필수_: 조건부  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`KmsKeyId`  
Amazon EBS 암호화에 사용할 AWS KMS 키의 식별자입니다. 지정된 경우 `KmsKeyId` 암호화된 상태는 `true`여야 합니다. 암호화된 상태가 이지만 `true` 를 지정하지 않으면 `KmsKeyId`EBS의 KMS 키가 사용됩니다.  
다음 중 하나를 사용하여 KMS 키를 지정할 수 있습니다.

- 키 ID입니다. 예: 1234abcd-12ab-34cd-56ef-1234567890ab.
- 키 별칭입니다. 예: alias/ExampleAlias.
- 키 ARN. 예: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab.
- 별칭 ARN. 예: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias.
  인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`SnapshotId`  
스냅샷의 ID입니다.  
와 를 모두 지정하는 경우 `SnapshotId` `VolumeSize` `VolumeSize` 스냅샷 크기보다 크거나 같아야 합니다.  
인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
_필수_: 조건부  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`VolumeSize` 볼륨의 크기(GiB)입니다. 스냅샷 ID 또는 볼륨 크기를 지정해야 합니다. 스냅샷을 지정하는 경우 기본값은 스냅샷 크기입니다. 스냅샷 크기보다 크거나 같은 볼륨 크기를 지정할 수 있습니다.  
다음은 각 볼륨 유형에 대해 지원되는 볼륨 크기입니다.

- `gp2` 및 `gp3`: 1-16,384
- `io1` 및 `io2`: 4-16,384
- `st1` 및 `sc1`: 125-16,384
- `standard`: 1-1,024
  인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
  _필수_: 조건부  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`VolumeType`  
볼륨 유형입니다. 자세한 내용은 *Amazon EC2 사용 설명서*의 Amazon EBS 볼륨 유형을 참조하세요. 볼륨 유형이 또는 인 경우 `io1` `io2`볼륨이 지원하는 IOPS를 지정해야 합니다.  
인스턴스가 실행된 후 이 파라미터를 수정하면 인스턴스가 교체됩니다.
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_허용되는 값_: `gp2 | gp3 | io1 | io2 | sc1 | st1 | standard`  
_업데이트 필요 사항_: 중단 없음

## 예제

### 스냅샷에서 EBS 볼륨 생성

이 예제에서는 스냅샷에서 50GB io1 EBS 볼륨을 생성하고, 1,000 IOPS를 지원하고 연결된 인스턴스를 종료한 후에도 유지되도록 구성합니다.

#### JSON (영문)

```
{
    "DeviceName": "/dev/sdc",
    "Ebs": {
        "SnapshotId": "snap-xxxxxxxx",
        "VolumeSize": "50",
        "VolumeType": "io1",
        "Iops": "1000",
        "DeleteOnTermination": "false"
    }
}
```

## 참고 항목

- Amazon EC2 API 참조*의 CreateVolume *
