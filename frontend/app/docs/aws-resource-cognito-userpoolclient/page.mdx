# AWS::Cognito::UserPoolClient

리소스는 `AWS::Cognito::UserPoolClient` Amazon Cognito 사용자 풀 클라이언트를 지정합니다.

**메모**  
파라미터 값을 지정하지 않으면 Amazon Cognito가 파라미터 값을 기본값으로 설정합니다.

## 통사론

AWS CloudFormation 템플릿에서 이 엔터티를 선언하려면 다음 구문을 사용합니다.

### JSON (영문)

```
{
  "Type" : "AWS::Cognito::UserPoolClient",
  "Properties" : {
      "AccessTokenValidity" : Integer,
      "AllowedOAuthFlows" : [ String, ... ],
      "AllowedOAuthFlowsUserPoolClient" : Boolean,
      "AllowedOAuthScopes" : [ String, ... ],
      "AnalyticsConfiguration" : AnalyticsConfiguration,
      "AuthSessionValidity" : Integer,
      "CallbackURLs" : [ String, ... ],
      "ClientName" : String,
      "DefaultRedirectURI" : String,
      "EnablePropagateAdditionalUserContextData" : Boolean,
      "EnableTokenRevocation" : Boolean,
      "ExplicitAuthFlows" : [ String, ... ],
      "GenerateSecret" : Boolean,
      "IdTokenValidity" : Integer,
      "LogoutURLs" : [ String, ... ],
      "PreventUserExistenceErrors" : String,
      "ReadAttributes" : [ String, ... ],
      "RefreshTokenValidity" : Integer,
      "SupportedIdentityProviders" : [ String, ... ],
      "TokenValidityUnits" : TokenValidityUnits,
      "UserPoolId" : String,
      "WriteAttributes" : [ String, ... ]
    }
}
```

## 속성

`AccessTokenValidity`  
액세스 토큰 시간 제한입니다. 이 한도가 만료되면 사용자는 액세스 토큰을 사용할 수 없습니다. `AccessTokenValidity` `seconds`, `minutes`, `hours`또는 `days`에 `TokenValidityUnits` 대한 시간 단위를 지정하려면 API 요청에서 값을 설정합니다.  
예를 들어 로 설정하고 `AccessTokenValidity` `10` `TokenValidityUnits` 로 `hours` 설정하면 사용자는 10시간 동안 액세스 토큰을 사용하여 액세스 권한을 부여할 수 있습니다.  
`AccessTokenValidity` API 요청의 기본 시간 단위는 시간입니다.  
*필수 항목 *여부: 아니요  
_유형_: Integer  
_업데이트 필요 사항_: 중단 없음

`AllowedOAuthFlows`  
허용된 OAuth 흐름입니다.  
코드  
응답 사항으로 인증 코드를 제공하는 코드 부여 흐름을 사용합니다. 이 코드는 엔드포인트와의 액세스 토큰으로 교환할 수 있습니다 `/oauth2/token` .  
함축적인  
액세스 토큰(및 필요에 따라 범위에 따라 ID 토큰)을 사용자에게 직접 발급합니다.  
client_credentials  
`/oauth2/token` 클라이언트 ID와 클라이언트 암호의 조합을 사용하여 엔드포인트에서 개인이 아닌 사용자에게 직접 액세스 토큰을 발급합니다.
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_최대_: `3`  
_업데이트 필요 사항_: 중단 없음

`AllowedOAuthFlowsUserPoolClient`  
 `true` 사용자 풀 앱 클라이언트에서 OAuth 2.0 기능을 사용하도록 설정합니다.  
 `AllowedOAuthFlowsUserPoolClient` `true` 앱 클라이언트에서 다음 기능을 구성하기 전에 해야 합니다.

- `CallBackURLs`: 콜백 URL입니다.
- `LogoutURLs`: 로그아웃 리디렉션 URL입니다.
- `AllowedOAuthScopes`: OAuth 2.0 범위입니다.
- `AllowedOAuthFlows`: 인증 코드, 암시적 및 클라이언트 자격 증명 OAuth 2.0 부여를 지원합니다.
  OAuth 2.0 기능을 사용하려면 Amazon Cognito 콘솔에서 이러한 기능 중 하나를 구성하거나 `AllowedOAuthFlowsUserPoolClient` `true` `CreateUserPoolClient` 또는 `UpdateUserPoolClient` API 요청에서 `AllowedOAuthFlowsUserPoolClient` AWS CLI 또는 SDK를 사용하여 요청에서 값을 설정하지 않으면 기본값은 `false`입니다.  
  *필수 항목 *여부: 아니요  
  _유형_: Boolean  
  _업데이트 필요 사항_: 중단 없음

`AllowedOAuthScopes`  
허용되는 OAuth 범위입니다. OAuth에서 제공할 수 있는 값은 `phone`, `email`, `openid`및 `profile`입니다. AWS에서 제공하는 가능한 값은 다음과 같습니다`aws.cognito.signin.user.admin`. 리소스 서버에서 만든 사용자 지정 범위도 지원됩니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_최대_: `50`  
_업데이트 필요 사항_: 중단 없음

`AnalyticsConfiguration`  
지표를 수집하여 Amazon Pinpoint 캠페인으로 전송하기 위한 사용자 풀 분석 구성입니다.  
Amazon Pinpoint를 사용할 수 없는 AWS 리전에서 사용자 풀은 AWS 리전 us-east-1의 Amazon Pinpoint 프로젝트로의 이벤트 전송만 지원합니다. Amazon Pinpoint를 사용할 수 있는 리전에서 사용자 풀은 동일한 리전 내의 Amazon Pinpoint 프로젝트로 이벤트 전송을 지원합니다.
*필수 항목 *여부: 아니요  
_유형_: AnalyticsConfiguration  
_업데이트 필요 사항_: 중단 없음

`AuthSessionValidity`  
Amazon Cognito는 인증 흐름의 각 API 요청에 대한 세션 토큰을 생성합니다. `AuthSessionValidity` 은 해당 세션 토큰의 기간(분)입니다. 사용자 풀 네이티브 사용자는 세션이 만료되기 전에 각 인증 챌린지에 응답해야 합니다.  
*필수 항목 *여부: 아니요  
_유형_: Integer  
_최소_: `3`  
_최대_: `15`  
_업데이트 필요 사항_: 중단 없음

`CallbackURLs` IdP에 대해 허용되는 리디렉션(콜백) URL 목록입니다.  
리디렉션 URI는 다음과 같아야 합니다.

- 절대 URI여야 합니다.
- 권한 부여 서버에 등록되어 있어야 합니다.
- 조각 구성 요소를 포함하지 않습니다.
  OAuth 2.0 - 리디렉션 엔드포인트를 참조하세요.  
  Amazon Cognito는 테스트 목적으로만 사용되는 일부 주소를 제외하고 HTTP를 통한 HTTPS를 요구합니다.  
  myapp://example 와 같은 앱 콜백 URL도 지원됩니다.  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _최대_: `100`  
  _업데이트 필요 사항_: 중단 없음

`ClientName`  
생성하려는 사용자 풀 클라이언트의 클라이언트 이름입니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_최소_: `1`  
_최대_: `128`  
_패턴_: `[ws+=,.@-]+`  
_업데이트 필요 사항_: 중단 없음

`DefaultRedirectURI`  
기본 리디렉션 URI입니다. 목록에 있어야 합니다 `CallbackURLs` .  
리디렉션 URI는 다음과 같아야 합니다.

- 절대 URI여야 합니다.
- 권한 부여 서버에 등록되어 있어야 합니다.
- 조각 구성 요소를 포함하지 않습니다.
  OAuth 2.0 - 리디렉션 엔드포인트를 참조하세요.  
  Amazon Cognito는 테스트 목적으로만 사용되는 일부 주소를 제외하고 HTTP를 통한 HTTPS를 요구합니다.  
  myapp://example 와 같은 앱 콜백 URL도 지원됩니다.  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _최소_: `1`  
  _최대_: `1024`  
  _패턴_: `[p{L}p{M}p{S}p{N}p{P}]+`  
  _업데이트 필요 사항_: 중단 없음

`EnablePropagateAdditionalUserContextData`  
추가 사용자 컨텍스트 데이터의 전파를 활성화합니다. 사용자 컨텍스트 데이터 전파에 대한 자세한 내용은 사용자 풀에 고급 보안 추가 섹션을 참조하세요. 이 파라미터를 포함하지 않으면 소스 IP 주소를 포함한 디바이스 지문 정보를 Amazon Cognito 고급 보안으로 전송할 수 없습니다. `EnablePropagateAdditionalUserContextData` 클라이언트 암호가 있는 앱 클라이언트에서만 활성화할 수 있습니다.  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`EnableTokenRevocation`  
토큰 해지를 활성화하거나 비활성화합니다. 토큰 해지에 대한 자세한 내용은 RevokeToken을 참조하세요.  
이 파라미터를 포함하지 않으면 새 사용자 풀 클라이언트에 대해 토큰 취소가 자동으로 활성화됩니다.  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`ExplicitAuthFlows`  
사용자 풀 클라이언트가 지원하려는 인증 흐름입니다. 사용자 풀의 각 앱 클라이언트에 대해 사용자 이름 및 SRP(Secure Remote Password), 사용자 이름 및 암호 또는 Lambda 함수로 정의한 사용자 지정 인증 프로세스를 포함하여 하나 이상의 흐름 조합을 사용하여 사용자를 로그인할 수 있습니다.  
에 대한 값을 지정하지 않으면 `ExplicitAuthFlows`사용자 클라이언트는 `ALLOW_REFRESH_TOKEN_AUTH`, `ALLOW_USER_SRP_AUTH`, 및 `ALLOW_CUSTOM_AUTH`를 지원합니다.
유효한 값은 다음과 같습니다.

- `ALLOW_ADMIN_USER_PASSWORD_AUTH`: 관리자 기반 사용자 암호 인증 흐름을 활성화합니다 `ADMIN_USER_PASSWORD_AUTH`. 이 설정은 설정을 대체합니다 `ADMIN_NO_SRP_AUTH` . 이 인증 흐름을 통해 앱은 SRP(Secure Remote Password) 프로토콜을 사용하여 암호를 안전하게 전송하는 대신 요청에서 Amazon Cognito에 사용자 이름과 암호를 전달합니다.
- `ALLOW_CUSTOM_AUTH`: Lambda 트리거 기반 인증을 활성화합니다.
- `ALLOW_USER_PASSWORD_AUTH`: 사용자 암호 기반 인증을 사용하도록 설정합니다. 이 흐름에서 Amazon Cognito는 SRP 프로토콜을 사용하여 암호를 확인하는 대신 요청에서 암호를 수신합니다.
- `ALLOW_USER_SRP_AUTH`: SRP 기반 인증을 활성화합니다.
- `ALLOW_REFRESH_TOKEN_AUTH`: authflow를 활성화하여 토큰을 새로 고칩니다.
  일부 환경에서는 , `ADMIN_NO_SRP_AUTH` `CUSTOM_AUTH_FLOW_ONLY`또는 `USER_PASSWORD_AUTH`. 이러한 레거시 `ExplicitAuthFlows` 값은 와 같이 로 시작하는 값과 동시에 사용자 풀 클라이언트에 `ALLOW_` 할당할 수 없습니다`ALLOW_USER_SRP_AUTH`.  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`GenerateSecret`  
생성 중인 사용자 풀 클라이언트에 대한 보안 암호를 생성할지 여부를 지정하는 부울입니다.  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 바꿔 놓음

`IdTokenValidity`  
ID 토큰 시간 제한입니다. 이 한도가 만료되면 사용자는 ID 토큰을 사용할 수 없습니다. `IdTokenValidity` `seconds`, `minutes`, `hours`또는 `days`에 `TokenValidityUnits` 대한 시간 단위를 지정하려면 API 요청에서 값을 설정합니다.  
예를 들어 `IdTokenValidity` as `10` 및 `TokenValidityUnits` as `hours`를 설정하면 사용자는 10시간 동안 ID 토큰으로 세션을 인증할 수 있습니다.  
`IdTokenValidity` API 요청의 기본 시간 단위는 시간입니다.  
*필수 항목 *여부: 아니요  
_유형_: Integer  
_업데이트 필요 사항_: 중단 없음

`LogoutURLs`  
IdP에 대해 허용되는 로그아웃 URL 목록입니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_최대_: `100`  
_업데이트 필요 사항_: 중단 없음

`PreventUserExistenceErrors`  
 이 설정을 사용하여 사용자가 사용자 풀에 없을 때 인증, 계정 확인 및 암호 복구 중에 Cognito API에서 반환할 오류 및 응답을 선택합니다. 로 설정 `ENABLED` 되고 사용자가 존재하지 않는 경우 인증은 사용자 이름 또는 암호가 잘못되었음을 나타내는 오류를 반환하고 계정 확인 및 암호 복구는 코드가 시뮬레이션된 대상으로 전송되었음을 나타내는 응답을 반환합니다. 로 설정하면 `LEGACY`사용자가 `UserNotFoundException` 사용자 풀에 없는 경우 해당 API가 예외를 반환합니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_허용되는 값_: `ENABLED | LEGACY`  
_업데이트 필요 사항_: 중단 없음

`ReadAttributes`  
읽기 속성입니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_업데이트 필요 사항_: 중단 없음

`RefreshTokenValidity`  
새로 고침 토큰 시간 제한입니다. 이 제한이 만료되면 사용자는 새로 고침 토큰을 사용할 수 없습니다. `RefreshTokenValidity` `seconds`, `minutes`, `hours`또는 `days`에 `TokenValidityUnits` 대한 시간 단위를 지정하려면 API 요청에서 값을 설정합니다.  
예를 들어 `RefreshTokenValidity` as `10` 및 `TokenValidityUnits` as `days`를 설정하면 사용자는 세션을 새로 고치고 10일 동안 새 액세스 및 ID 토큰을 검색할 수 있습니다.  
`RefreshTokenValidity` API 요청의 기본 시간 단위는 일입니다. 0으로 설정할 수 없습니다 `RefreshTokenValidity` . 이렇게 하면 Amazon Cognito가 기본값인 30일로 값을 재정의합니다.  
*필수 항목 *여부: 아니요  
_유형_: Integer  
_업데이트 필요 사항_: 중단 없음

`SupportedIdentityProviders`  
이 클라이언트에서 지원되는 ID 공급자(IdP)의 공급자 이름 목록입니다. 지원되는 기능은 `COGNITO`, `Facebook`, , `Google`, `SignInWithApple`및 `LoginWithAmazon`입니다. 사용자 풀의 SAML 및 OIDC IdP에 대해 구성한 이름(예: `MySAMLIdP` 또는 )을 지정할 수도 있습니다`MyOIDCIdP`.  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_업데이트 필요 사항_: 중단 없음

`TokenValidityUnits`  
유효 시간이 표시되는 단위입니다. RefreshToken의 기본 단위는 일이고 ID 및 액세스 토큰의 기본값은 시간입니다.  
*필수 항목 *여부: 아니요  
_형식_: TokenValidityUnits  
_업데이트 필요 사항_: 중단 없음

`UserPoolId`  
사용자 풀 클라이언트를 생성하려는 사용자 풀의 사용자 풀 ID입니다.  
_필수 항목 여부_: 예  
_유형_: 문자열  
_최소_: `1`  
_최대_: `55`  
_패턴_: `[w-]+_[0-9a-zA-Z]+`  
_업데이트 필요 사항_: 바꿔 놓음

`WriteAttributes`  
앱 클라이언트가 쓸 수 있는 사용자 풀 속성입니다.  
앱 클라이언트에서 사용자가 IdP를 통해 로그인할 수 있도록 허용하는 경우 이 배열에는 IdP 속성에 매핑된 모든 속성이 포함되어야 합니다. Amazon Cognito는 사용자가 IdP를 통해 애플리케이션에 로그인할 때 매핑된 속성을 업데이트합니다. 앱 클라이언트에 매핑된 속성에 대한 쓰기 액세스 권한이 없는 경우 Amazon Cognito는 속성을 업데이트하려고 할 때 오류를 발생시킵니다. 자세한 내용은 사용자 풀에 대한 IdP 속성 매핑 지정을 참조하십시오.  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_업데이트 필요 사항_: 중단 없음

## 반환 값

### 참고문헌

이 리소스의 논리적 ID를 내장 함수에 전달하면 `Ref` `Ref`Amazon Cognito 사용자 풀 클라이언트 ID(예: )를 반환합니다 `1h57kf5cpq17m0eml12EXAMPLE`.

함수 사용에 대한 자세한 `Ref`내용은 Ref를 참조하세요.
