# AWS::RDS::D BC러스터

리소스는 `AWS::RDS::DBCluster` Amazon Aurora DB 클러스터 또는 다중 AZ DB 클러스터를 생성합니다.

Aurora DB 클러스터 생성에 대한 자세한 내용은 Amazon Aurora 사용 설명서의 Amazon Aurora DB 클러스터 생성을 참조하세요\*\*.

다중 AZ DB 클러스터 생성에 대한 자세한 내용은 Amazon RDS 사용 설명서의 다중 AZ DB 클러스터 생성을 참조하세요\*\*.

**메모**  
Amazon Aurora 또는 다중 AZ DB 클러스터가 지원되는 AWS 리전에서만 이 리소스를 생성할 수 있습니다.

**DB 클러스터 업데이트**

"Update requires:_ Replacement"라는 레이블이 지정된 속성이_ 업데이트되면 AWS CloudFormation에서는 먼저 대체 DB 클러스터를 생성한 다음, 대체 DB 클러스터를 가리키도록 다른 종속 리소스의 참조를 변경하고, 마지막으로 이전 DB 클러스터를 삭제합니다.

**중요하다**  
스택을 업데이트하기 전에 데이터베이스의 스냅샷을 생성하는 것이 좋습니다. 그렇지 않으면 AWS CloudFormation에서 DB 클러스터를 교체할 때 데이터가 손실됩니다. 데이터를 보존하려면 다음 절차를 수행합니다.  
DB 클러스터를 사용하는 모든 애플리케이션을 비활성화하여 DB 인스턴스에 대한 활동이 없도록 합니다.
DB 클러스터의 스냅샷을 생성합니다. 자세한 내용은 DB 클러스터 스냅샷 생성 단원을 참조하십시오.
DB 클러스터 스냅샷을 사용하여 DB 클러스터를 복원하려면 DB 클러스터 변경 사항으로 업데이트된 템플릿을 수정하고 `SnapshotIdentifier` 사용할 DB 클러스터 스냅샷의 ID로 속성을 추가합니다.  
속성을 사용하여 DB 클러스터를 복원한 후에는 향후 DB 클러스터 업데이트에 대해 `SnapshotIdentifier` 동일한 속성을 지정해야 합니다 `SnapshotIdentifier` . 업데이트에 대해 이 속성을 지정하면 DB 클러스터가 DB 클러스터 스냅샷에서 다시 복원되지 않으며 데이터베이스의 데이터도 변경되지 않습니다. 그러나 속성을 지정하지 않으면 `SnapshotIdentifier` 빈 DB 클러스터가 생성되고 원래 DB 클러스터가 삭제됩니다. 이전 스냅샷 복원 속성과 다른 속성을 지정하면 지정된 속성에서 새 DB 클러스터가 복원 `SnapshotIdentifier` 되고 원래 DB 클러스터가 삭제됩니다.
스택을 업데이트합니다.

현재 Aurora Serverless DB 클러스터에 대한 스택을 업데이트할 때 , , 및 . 속성 중 하나를 지정하면 다른 속성에 대한 변경 사항을 포함할 수 없습니다 `PreferredBackupWindow` `PreferredMaintenanceWindow` `Port`. 이 제한은 프로비저닝된 DB 클러스터에는 적용되지 않습니다.

이 리소스의 다른 속성을 업데이트하는 방법에 대한 자세한 내용은 을 참조하십시오 ` ModifyDBCluster`. 스택 업데이트에 대한 자세한 내용은 AWS CloudFormation 스택 업데이트 단원을 참조하십시오.

**DB 클러스터 삭제**

resources`DeletionPolicy`의 기본값은 `AWS::RDS::DBCluster` `Snapshot`입니다. AWS CloudFormation에서 리소스를 삭제하는 방법에 대한 자세한 내용은 DeletionPolicy 속성 단원을 참조하십시오.

## 통사론

AWS CloudFormation 템플릿에서 이 엔터티를 선언하려면 다음 구문을 사용합니다.

### JSON (영문)

```
{
  "Type" : "AWS::RDS::DBCluster",
  "Properties" : {
      "AllocatedStorage" : Integer,
      "AssociatedRoles" : [ DBClusterRole, ... ],
      "AutoMinorVersionUpgrade" : Boolean,
      "AvailabilityZones" : [ String, ... ],
      "BacktrackWindow" : Integer,
      "BackupRetentionPeriod" : Integer,
      "CopyTagsToSnapshot" : Boolean,
      "DatabaseName" : String,
      "DBClusterIdentifier" : String,
      "DBClusterInstanceClass" : String,
      "DBClusterParameterGroupName" : String,
      "DBInstanceParameterGroupName" : String,
      "DBSubnetGroupName" : String,
      "DBSystemId" : String,
      "DeletionProtection" : Boolean,
      "Domain" : String,
      "DomainIAMRoleName" : String,
      "EnableCloudwatchLogsExports" : [ String, ... ],
      "EnableHttpEndpoint" : Boolean,
      "EnableIAMDatabaseAuthentication" : Boolean,
      "Engine" : String,
      "EngineMode" : String,
      "EngineVersion" : String,
      "GlobalClusterIdentifier" : String,
      "Iops" : Integer,
      "KmsKeyId" : String,
      "ManageMasterUserPassword" : Boolean,
      "MasterUsername" : String,
      "MasterUserPassword" : String,
      "MasterUserSecret" : MasterUserSecret,
      "MonitoringInterval" : Integer,
      "MonitoringRoleArn" : String,
      "NetworkType" : String,
      "PerformanceInsightsEnabled" : Boolean,
      "PerformanceInsightsKmsKeyId" : String,
      "PerformanceInsightsRetentionPeriod" : Integer,
      "Port" : Integer,
      "PreferredBackupWindow" : String,
      "PreferredMaintenanceWindow" : String,
      "PubliclyAccessible" : Boolean,
      "ReplicationSourceIdentifier" : String,
      "RestoreToTime" : String,
      "RestoreType" : String,
      "ScalingConfiguration" : ScalingConfiguration,
      "ServerlessV2ScalingConfiguration" : ServerlessV2ScalingConfiguration,
      "SnapshotIdentifier" : String,
      "SourceDBClusterIdentifier" : String,
      "SourceRegion" : String,
      "StorageEncrypted" : Boolean,
      "StorageType" : String,
      "Tags" : [Tag, ... ],
      "UseLatestRestorableTime" : Boolean,
      "VpcSecurityGroupIds" : [ String, ... ]
    }
}
```

## 속성

`AllocatedStorage`  
다중 AZ DB 클러스터의 각 DB 인스턴스에 할당할 스토리지의 양(GiB)입니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
이 설정은 다중 AZ DB 클러스터를 생성하는 데 필요합니다.  
*필수 항목 *여부: 아니요  
_유형_: Integer  
_업데이트 필요 사항_: 중단 없음

`AssociatedRoles`  
DB 클러스터와 연결된 AWS Identity and Access Management(IAM) 역할의 목록을 제공합니다. DB 클러스터와 연결된 IAM 역할은 DB 클러스터가 사용자를 대신하여 다른 Amazon Web Services에 액세스할 수 있는 권한을 부여합니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: DBClusterRole 목록  
_업데이트 필요 사항_: 중단 없음

`AutoMinorVersionUpgrade`  
유지 관리 기간 동안 마이너 엔진 업그레이드가 DB 클러스터에 자동으로 적용되는지 여부를 지정합니다. 기본적으로 사소한 엔진 업그레이드는 자동으로 적용됩니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`AvailabilityZones`  
DB 클러스터의 인스턴스를 생성할 수 있는 가용 영역(AZ) 목록입니다. AWS 리전 및 가용 영역에 대한 자세한 내용은 Amazon Aurora 사용 설명서의 리전 및 가용 영역 선택을 참조하십시오\**.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
*유형*: 문자열 목록  
*업데이트 필요 사항\*: 바꿔 놓음

`BacktrackWindow` 대상 역추적 창(초)입니다. 역추적을 비활성화하려면 이 값을 0으로 설정합니다.  
현재 역추적은 Aurora MySQL DB 클러스터에 대해서만 지원됩니다.
기본값 : 0  
제약 조건:

- 지정된 경우 이 값은 0에서 259,200(72시간) 사이의 숫자로 설정해야 합니다.
  유효 기간: Aurora MySQL DB 클러스터만 해당  
  *필수 항목 *여부: 아니요  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`BackupRetentionPeriod` 자동 백업이 보존되는 기간(일)입니다.  
기본값 : 1  
제약 조건:

- 1에서 35 사이의 값이어야 합니다.
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`CopyTagsToSnapshot`  
DB 클러스터의 모든 태그를 DB 클러스터의 스냅샷으로 복사할지 여부를 나타내는 값입니다. 기본값은 복사하지 않는 것입니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`DatabaseName`  
데이터베이스의 이름입니다. 이름을 제공하지 않으면 Amazon RDS가 이 DB 클러스터에 데이터베이스를 생성하지 않습니다. 명명 제약 조건에 대한 자세한 내용은 *Amazon Aurora 사용 설명서*의 명명 제약 조건을 참조하십시오.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 바꿔 놓음

`DBClusterIdentifier` DB 클러스터 식별자입니다. 이 매개 변수는 소문자 문자열로 저장됩니다.  
제약 조건:

- 1-63자의 문자, 숫자 또는 하이픈을 포함해야 합니다.
- 첫 번째 문자는 문자여야 합니다.
- 하이픈으로 끝나거나 두 개의 연속 하이픈을 포함할 수 없습니다.
  본보기: `my-cluster1`  
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`DBClusterInstanceClass`  
예를 들어 다중 AZ DB 클러스터에 있는 각 DB 인스턴스의 컴퓨팅 및 메모리 용량입니다`db.m6gd.xlarge`. 모든 DB 인스턴스 클래스를 모든 AWS 리전 또는 모든 데이터베이스 엔진에서 사용할 수 있는 것은 아닙니다.  
엔진의 DB 인스턴스 클래스 및 가용성에 대한 전체 목록은 _Amazon RDS 사용 설명서의 DB 인스턴스 클래스를 참조하세요_.  
이 설정은 다중 AZ DB 클러스터를 생성하는 데 필요합니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`DBClusterParameterGroupName`  
이 DB 클러스터와 연결할 DB 클러스터 파라미터 그룹의 이름입니다.  
파라미터 그룹을 기존 DB 클러스터에 적용하면 해당 DB 인스턴스를 재부팅해야 할 수 있습니다. 이로 인해 DB 인스턴스가 재부팅되는 동안 중단이 발생할 수 있습니다.  
중지된 DB 클러스터와 연결된 파라미터 그룹에 변경 사항을 적용하면 DB 클러스터가 시작될 때까지 업데이트 스택이 대기합니다.
사용 가능한 DB 클러스터 파라미터 그룹 이름을 모두 나열하려면 다음 명령을 사용합니다.  
`aws rds describe-db-cluster-parameter-groups --query "DBClusterParameterGroups[].DBClusterParameterGroupName" --output text`  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`DBInstanceParameterGroupName`  
DB 클러스터의 모든 인스턴스에 적용할 DB 파라미터 그룹의 이름입니다.  
파라미터를 사용하여 파라미터 그룹을 적용 `DBInstanceParameterGroupName` 하면 DB 클러스터가 자동으로 재부팅되지 않습니다. 또한 매개 변수 변경 사항은 다음 유지 관리 기간이 아닌 즉시 적용됩니다.
기본값: 기존 이름 설정  
제약 조건:

- DB 파라미터 그룹은 이 DB 클러스터와 동일한 DB 파라미터 그룹 패밀리에 있어야 합니다.
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 중단 없음

`DBSubnetGroupName`  
이 DB 클러스터와 연결할 DB 서브넷 그룹입니다.  
DB 서브넷 그룹 이름을 지정하지 않고 DB 클러스터를 로 설정된 특정 시점으로 복원하는 경우 `RestoreType` `copy-on-write`DB 클러스터는 기본 DB 서브넷 그룹으로 복원됩니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 바꿔 놓음

`DBSystemId`  
나중에 사용할 수 있도록 예약되어 있습니다.  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 바꿔 놓음

`DeletionProtection`  
DB 클러스터에 삭제 방지가 활성화되어 있는지 여부를 나타내는 값입니다. 삭제 방지를 사용하는 경우 데이터베이스를 삭제할 수 없습니다. 기본적으로 삭제 방지는 비활성화되어 있습니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`Domain`  
DB 클러스터를 생성할 Active Directory의 디렉터리 ID를 나타냅니다.  
Amazon Aurora DB 클러스터의 경우 Amazon RDS는 Kerberos 인증을 사용하여 DB 클러스터에 연결하는 사용자를 인증할 수 있습니다.  
자세한 내용은 *Amazon Aurora 사용 설명서*의 Kerberos 인증을 참조하세요.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`DomainIAMRoleName`  
디렉터리 서비스에 대한 API 호출을 수행할 때 사용할 IAM 역할의 이름을 지정합니다.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`EnableCloudwatchLogsExports`  
CloudWatch Logs로 내보내기 위해 활성화해야 하는 로그 유형 목록입니다. 목록의 값은 사용 중인 DB 엔진에 따라 다릅니다. 자세한 내용은 Amazon Aurora 사용 설명서의 Amazon CloudWatch Logs에 데이터베이스 로그 게시를 참조하십시오**.  
 **오로라 MySQL**  
유효한 값: `audit`, `error`, `general` `slowquery`  
 **, Aurora PostgreSQL\**  
유효한 값: `postgresql`  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
*유형*: 문자열 목록  
*업데이트 필요 사항\*: 중단 없음

`EnableHttpEndpoint`  
Aurora Serverless DB 클러스터에 대해 HTTP 엔드포인트를 활성화할지 여부를 나타내는 값입니다. 기본적으로 HTTP 엔드포인트는 비활성화되어 있습니다.  
활성화되면 HTTP 엔드포인트는 Aurora Serverless DB 클러스터에서 SQL 쿼리를 실행하기 위한 연결 없는 웹 서비스 API를 제공합니다. 쿼리 편집기를 사용하여 RDS 콘솔 내에서 데이터베이스를 쿼리할 수도 있습니다.  
자세한 내용은 Amazon Aurora 사용 설명서의 Aurora Serverless용 데이터 API 사용을 참조하세요\**.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
*유형*: Boolean  
*업데이트 필요 사항\*: 중단 없음

`EnableIAMDatabaseAuthentication`  
AWS Identity and Access Management(IAM) 계정을 데이터베이스 계정에 매핑할 수 있는지 여부를 나타내는 값입니다. 기본적으로 매핑은 비활성화되어 있습니다.  
자세한 내용은 *Amazon Aurora 사용 설명서*의 IAM 데이터베이스 인증을 참조하세요.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`Engine` 이 DB 클러스터에 사용할 데이터베이스 엔진의 이름입니다.  
유효한 값 :

- `aurora-mysql`
- `aurora-postgresql`
- `mysql`
- `postgres`
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 일부 중단

`EngineMode`  
DB 클러스터의 DB 엔진 모드( `provisioned` 또는 `serverless`.  
`serverless` 엔진 모드는 Aurora Serverless v1만 지원합니다.  
제한 사항 및 요구 사항은 일부 DB 엔진 모드에 적용됩니다. 자세한 내용은 _Amazon Aurora 사용 설명서에서 다음 섹션을 참조하세요_.

- Aurora Serverless v1의 제한 사항
- Aurora Serverless v2에 대한 요구 사항
- 병렬 쿼리의 제한 사항
- Aurora 글로벌 데이터베이스의 제한 사항
  유효 기간: Aurora DB 클러스터만 해당  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`EngineVersion`  
사용할 데이터베이스 엔진의 버전 번호입니다.  
Aurora MySQL 버전 2(5.7 호환) 및 버전 3(8.0 호환)에 사용할 수 있는 모든 엔진 버전을 나열하려면 다음 명령을 사용합니다.  
`aws rds describe-db-engine-versions --engine aurora-mysql --query "DBEngineVersions[].EngineVersion"`  
`5.7` `8.0` Aurora MySQL 버전 2 또는 버전 3에 대한 기본 엔진 버전을 각각 제공하거나 사용할 수 있습니다.  
Aurora PostgreSQL에 사용할 수 있는 모든 엔진 버전을 나열하려면 다음 명령을 사용합니다.  
`aws rds describe-db-engine-versions --engine aurora-postgresql --query "DBEngineVersions[].EngineVersion"`  
RDS for MySQL에 사용 가능한 모든 엔진 버전을 나열하려면 다음 명령을 사용합니다.  
`aws rds describe-db-engine-versions --engine mysql --query "DBEngineVersions[].EngineVersion"`  
RDS for PostgreSQL에 사용 가능한 모든 엔진 버전을 나열하려면 다음 명령을 사용합니다.  
`aws rds describe-db-engine-versions --engine postgres --query "DBEngineVersions[].EngineVersion"`  
**오로라 MySQL**  
자세한 내용은 Amazon Aurora 사용 설명서의 Amazon Aurora MySQL용 데이터베이스 엔진 업데이트를 참조하세요**.  
**오로라 PostgreSQL**  
자세한 내용은 Amazon Aurora 사용 설명서의 Amazon Aurora PostgreSQL 릴리스 및 엔진 버전을 참조하세요**.  
**MySQL을** 사용합니다.  
자세한 내용은 _Amazon RDS 사용 설명서의 MySQL용 Amazon RDS를 참조하세요_.  
\**\*\*PostgreSQL의  
자세한 내용은 *Amazon RDS 사용 설명서*의 PostgreSQL용 Amazon RDS를 참조하세요.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
*유형*: 문자열  
*업데이트 필요 사항\*: 일부 중단

`GlobalClusterIdentifier`  
 Aurora 글로벌 데이터베이스 클러스터를 구성 중이고 Aurora DB 클러스터를 글로벌 데이터베이스 클러스터의 보조 멤버로 만들려면 글로벌 데이터베이스 클러스터의 글로벌 클러스터 ID를 지정합니다. 글로벌 클러스터의 기본 데이터베이스 클러스터를 정의하려면 AWS::RDS::GlobalCluster 리소스를 사용합니다.  
 글로벌 데이터베이스 클러스터를 구성하지 않는 경우 이 속성을 지정하지 마세요.  
글로벌 데이터베이스 클러스터에서 DB 클러스터를 제거하려면 속성에 빈 값을 지정합니다 `GlobalClusterIdentifier` .
Aurora 글로벌 데이터베이스에 대한 자세한 내용은 *Amazon Aurora 사용 설명서*의 Amazon Aurora 글로벌 데이터베이스 작업을 참조하십시오.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 일부 중단

`Iops`  
다중 AZ DB 클러스터의 각 DB 인스턴스에 대해 초기에 할당할 프로비저닝된 IOPS(초당 입력/출력 작업)의 양입니다.  
유효한 IOPS 값에 대한 자세한 내용은 _Amazon RDS 사용 설명서의 프로비저닝된 IOPS 스토리지를 참조하세요_.  
이 설정은 다중 AZ DB 클러스터를 생성하는 데 필요합니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
제약 조건:

- DB 클러스터에 대한 스토리지 용량의 .5에서 50 사이의 배수여야 합니다.
  *필수 항목 *여부: 아니요  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`KmsKeyId`  
DB 클러스터의 데이터베이스 인스턴스를 암호화하는 데 사용되는 AWS KMS 키의 Amazon 리소스 이름(ARN)입니다`arn:aws:kms:us-east-1:012345678910:key/abcd1234-a123-456a-a12b-a123b4cd56ef`. 속성을 활성화 `StorageEncrypted` 하되 이 속성을 지정하지 않으면 기본 KMS 키가 사용됩니다. 이 특성을 지정하는 경우 `StorageEncrypted` 특성을 `true` 로 설정해야 합니다.  
속성을 지정하면 `SnapshotIdentifier` `StorageEncrypted` 속성 값이 스냅샷에서 상속되고, DB 클러스터가 암호화되면 지정된 `KmsKeyId` 속성이 사용됩니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 바꿔 놓음

`ManageMasterUserPassword`  
AWS Secrets Manager를 사용하여 마스터 사용자 암호를 관리할지 여부를 지정합니다.  
자세한 내용은 *Amazon RDS 사용 설명서*의 AWS Secrets Manager를 사용한 암호 관리 및 Amazon Aurora 사용 설명서*의 AWS Secrets Manager를 사용한 암호 관리를 * 참조하세요.  
클러스터 유형(Cluster Type): Aurora DB 클러스터 및 다중 AZ DB 클러스터(Multi-AZ DB clusters)에 유효합니다  
제약 조건:

- 지정된 경우 AWS Secrets Manager를 사용하여 마스터 사용자 암호를 관리할 수 없습니다 `MasterUserPassword` .
  *필수 항목 *여부: 아니요  
  _유형_: Boolean  
  _업데이트 필요 사항_: 중단 없음

`MasterUsername`  
DB 클러스터의 마스터 사용자 이름입니다.  
 `SourceDBClusterIdentifier`, `SnapshotIdentifier`또는 `GlobalClusterIdentifier` 속성을 지정하는 경우 이 속성을 지정하지 마십시오. 이 값은 각각 글로벌 데이터베이스 클러스터의 원본 DB 클러스터, 스냅샷 또는 기본 DB 클러스터에서 상속됩니다.
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
_필수_: 조건부  
_유형_: 문자열  
_업데이트 필요 사항_: 일부 중단

`MasterUserPassword`  
DB 인스턴스의 마스터 암호입니다.  
 `SourceDBClusterIdentifier`, `SnapshotIdentifier`또는 `GlobalClusterIdentifier` 속성을 지정하는 경우 이 속성을 지정하지 마십시오. 이 값은 각각 글로벌 데이터베이스 클러스터의 원본 DB 클러스터, 스냅샷 또는 기본 DB 클러스터에서 상속됩니다.
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
_필수_: 조건부  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`MasterUserSecret`  
마스터 사용자 암호에 대해 AWS Secrets Manager에서 RDS가 관리하는 보안 암호입니다.  
자세한 내용은 *Amazon RDS 사용 설명서*의 AWS Secrets Manager를 사용한 암호 관리 및 Amazon Aurora 사용 설명서*의 AWS Secrets Manager를 사용한 암호 관리를 * 참조하세요.  
*필수 항목 *여부: 아니요  
_유형_: MasterUserSecret  
_업데이트 필요 사항_: 중단 없음

`MonitoringInterval`  
DB 클러스터에 대해 Enhanced Monitoring 지표가 수집되는 시점 사이의 간격(초)입니다. Enhanced Monitoring 지표 수집을 끄려면 을 지정합니다`0`.  
`MonitoringRoleArn` 지정된 경우 `MonitoringInterval` 다른 값으로도 설정합니다`0`.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
유효한 값 : `0 | 1 | 5 | 10 | 15 | 30 | 60`  
기본값: `0`  
_필수_: 아니요  
_유형_: Integer  
_업데이트 필요 사항_: 중단 없음

`MonitoringRoleArn`  
RDS가 Enhanced Monitoring 지표를 Amazon CloudWatch Logs로 전송할 수 있도록 허용하는 IAM 역할의 Amazon 리소스 이름(ARN)입니다. 예를 들면 다음과 같습니다`arn:aws:iam:123456789012:role/emaccess`. 모니터링 역할 생성에 대한 자세한 내용은 _Amazon RDS 사용 설명서의 Enhanced Monitoring 설정 및 활성화를 참조하세요_.  
`MonitoringInterval` 가 이외의 값으로 설정된 경우 `0`값을 제공합니다 `MonitoringRoleArn` .  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`NetworkType` DB 클러스터의 네트워크 유형입니다.  
유효한 값:

- `IPV4`
- `DUAL`
  네트워크 유형은 `DBSubnetGroup` DB 클러스터에 대해 지정된 항목에 따라 결정됩니다. A `DBSubnetGroup` 는 IPv4 프로토콜 또는 IPv4 및 IPv6 프로토콜()만 지원할 수 있습니다`DUAL`.  
  자세한 내용은 Amazon Aurora 사용 설명서의 VPC에서 DB 인스턴스 작업을 참조하세요*.*  
  유효 기간: Aurora DB 클러스터만 해당  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 중단 없음

`PerformanceInsightsEnabled`  
DB 클러스터에 대해 성능 개선 도우미를 켤지 여부를 지정합니다.  
자세한 내용은 _Amazon RDS 사용 설명서의 Amazon 성능 개선 도우미 사용을 참조하세요_.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`PerformanceInsightsKmsKeyId`  
성능 개선 도우미 데이터 암호화를 위한 AWS KMS 키 식별자입니다.  
AWS KMS 키 식별자는 KMS 키의 키 ARN, 키 ID, 별칭 ARN 또는 별칭 이름입니다.  
에 대한 값을 지정하지 않으면 `PerformanceInsightsKMSKeyId`Amazon RDS는 기본 KMS 키를 사용합니다. AWS 계정에 대한 기본 KMS 키가 있습니다. AWS 계정에는 AWS 리전마다 다른 기본 KMS 키가 있습니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`PerformanceInsightsRetentionPeriod` 성능 개선 도우미 데이터를 보존할 기간(일)입니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
유효한 값 :

- `7`
- _month_ * 31, 여기서 *month* 는 1-23개월 사이의 개월 수입니다. 예: `93` (3개월 * 31), `341` (11개월 _ 31), `589` (19개월 _ 31)
- `731`
  기본값: `7` 일  
  유효하지 않은 보존 기간(예: )을 지정하면 `94`Amazon RDS에서 오류가 발생합니다.  
  *필수 항목 *여부: 아니요  
  _유형_: Integer  
  _업데이트 필요 사항_: 중단 없음

`Port` DB 클러스터의 DB 인스턴스가 연결을 수락하는 포트 번호입니다.  
기본값:

- 인 경우 `EngineMode` `provisioned`( `3306` Aurora MySQL 및 Aurora PostgreSQL 모두)
- 언제 `EngineMode` : `serverless`
  - `3306` when `Engine` is `aurora` 또는 `aurora-mysql`
  - `5432` 언제 `Engine` `aurora-postgresql`
    `No interruption` 업데이트 시 동작은 DB 클러스터에만 적용됩니다. DB 인스턴스를 업데이트하는 경우 AWS::RDS::D BInstance 리소스의 포트 단원을 참조하십시오.
    유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
    *필수 항목 *여부: 아니요  
    _유형_: Integer  
    _업데이트 필요 사항_: 중단 없음

`PreferredBackupWindow`  
자동 백업이 생성되는 일별 시간 범위입니다. 자세한 내용은 *Amazon Aurora 사용 설명서*의 백업 기간을 참조하세요.  
제약 조건:

- 형식이어야 합니다`hh24:mi-hh24:mi`.
- 협정 세계시(UTC)여야 합니다.
- 기본 유지 관리 기간과 충돌하지 않아야 합니다.
- 최소 30분이어야 합니다.
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 중단 없음

`PreferredMaintenanceWindow`  
시스템 유지 관리가 발생할 수 있는 주간 시간 범위(UTC(Universal Coordinated Time))입니다.  
판: `ddd:hh24:mi-ddd:hh24:mi`  
기본값은 각 AWS 리전의 8시간 블록 시간 중에서 임의로 선택된 30분 기간으로, 임의의 요일에 발생합니다. 사용 가능한 타임 블록을 보려면 Amazon Aurora 사용 설명서의 기본 DB 클러스터 유지 관리 기간 조정을 참조하십시오*.*  
유효 요일: 월, 화, 수, 목, 금, 토, 일  
제약 조건: 최소 30분 기간.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`PubliclyAccessible`  
DB 클러스터에 공개적으로 액세스할 수 있는지 여부를 지정합니다.  
DB 클러스터에 공개적으로 액세스할 수 있는 경우 DNS(Domain Name System) 엔드포인트는 DB 클러스터의 Virtual Private Cloud(VPC) 내에서 프라이빗 IP 주소로 확인됩니다. DB 클러스터의 VPC 외부에서 퍼블릭 IP 주소로 확인됩니다. DB 클러스터에 대한 액세스는 궁극적으로 사용하는 보안 그룹에 의해 제어됩니다. DB 클러스터에 할당된 보안 그룹이 허용하지 않는 경우 해당 퍼블릭 액세스는 허용되지 않습니다.  
DB 클러스터에 공개적으로 액세스할 수 없는 경우 프라이빗 IP 주소로 확인되는 DNS 이름을 가진 내부 DB 클러스터입니다.  
클러스터 유형(Cluster Type): 다중 AZ DB 클러스터만 해당(Valid for Cluster Type: Multi-AZ DB clusters only)  
기본값: 기본 동작은 지정 여부에 따라 달라집니다 `DBSubnetGroupName` .  
 `DBSubnetGroupName` 지정하지 않고 `PubliclyAccessible` 지정하지 않으면 다음이 적용됩니다.

- 대상 리전의 기본 VPC에 인터넷 게이트웨이가 연결되어 있지 않은 경우 DB 클러스터는 프라이빗입니다.
- 대상 리전의 기본 VPC에 인터넷 게이트웨이가 연결되어 있는 경우 DB 클러스터는 퍼블릭입니다.
  `DBSubnetGroupName` 지정되고 `PubliclyAccessible` 지정되지 않은 경우 다음이 적용됩니다.
- 서브넷이 인터넷 게이트웨이가 연결되지 않은 VPC의 일부인 경우 DB 클러스터는 프라이빗입니다.
- 서브넷이 인터넷 게이트웨이가 연결된 VPC의 일부인 경우 DB 클러스터는 퍼블릭입니다.
  *필수 항목 *여부: 아니요  
  _유형_: Boolean  
  _업데이트 필요 사항_: 바꿔 놓음

`ReplicationSourceIdentifier`  
원본 DB 인스턴스 또는 DB 클러스터(이 DB 클러스터가 읽기 전용 복제본으로 생성된 경우)의 Amazon 리소스 이름(ARN)입니다.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 중단 없음

`RestoreToTime` DB 클러스터를 복원할 날짜 및 시간입니다.  
유효한 값: 값은 UTC(Universal Coordinated Time) 형식의 시간이어야 합니다.  
제약 조건:

- DB 인스턴스의 복원 가능한 최근 시간 이전이어야 합니다.
- 매개 변수가 제공되지 않은`UseLatestRestorableTime` 경우 지정해야 합니다.
- 매개 변수를 사용하는 `UseLatestRestorableTime`경우 지정할 수 없습니다.
- 매개 변수가 다음과 `RestoreType`같은 경우 지정할 수 없습니다`copy-on-write`.
  본보기: `2015-03-07T23:45:00Z`  
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`RestoreType` 수행할 복원 유형입니다. 다음 값 중 하나를 지정할 수 있습니다.

- `full-copy` - 새 DB 클러스터는 원본 DB 클러스터의 전체 복사본으로 복원됩니다.
- `copy-on-write` - 새 DB 클러스터가 원본 DB 클러스터의 복제본으로 복원됩니다.
  값을 지정하지 `RestoreType` 않으면 새 DB 클러스터가 원본 DB 클러스터의 전체 복사본으로 복원됩니다.  
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`ScalingConfiguration`  
`ScalingConfiguration` 속성 유형은 Aurora Serverless DB 클러스터의 크기 조정 구성을 지정합니다.  
이 속성은 Aurora Serverless v1에서만 지원됩니다. Aurora Serverless v2의 경우 property를 사용합니다 `ServerlessV2ScalingConfiguration` .  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_형식_: ScalingConfiguration  
_업데이트 필요 사항_: 중단 없음

`ServerlessV2ScalingConfiguration`  
`ServerlessV2ScalingConfiguration` 속성 유형은 Aurora Serverless V2 DB 클러스터의 크기 조정 구성을 지정합니다.  
이 속성은 Aurora Serverless v2에서만 지원됩니다. Aurora Serverless v1의 경우 `ScalingConfiguration` property를 사용합니다.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_형식_: ServerlessV2ScalingConfiguration  
_업데이트 필요 사항_: 중단 없음

`SnapshotIdentifier`  
복원할 DB 스냅샷 또는 DB 클러스터 스냅샷의 식별자입니다.  
이름 또는 Amazon 리소스 이름(ARN)을 사용하여 DB 클러스터 스냅샷을 지정할 수 있습니다. 그러나 ARN만 사용하여 DB 스냅샷을 지정할 수 있습니다.  
속성을 사용하여 DB 클러스터를 복원한 후에는 향후 DB 클러스터 업데이트에 대해 `SnapshotIdentifier` 동일한 속성을 지정해야 합니다 `SnapshotIdentifier` . 업데이트에 대해 이 속성을 지정하면 DB 클러스터가 스냅샷에서 다시 복원되지 않으며 데이터베이스의 데이터도 변경되지 않습니다. 그러나 속성을 지정하지 않으면 `SnapshotIdentifier` 빈 DB 클러스터가 생성되고 원래 DB 클러스터가 삭제됩니다. 이전 스냅샷 복원 속성과 다른 속성을 지정하면 지정된 속성에서 새 DB 클러스터가 복원 `SnapshotIdentifier` 되고 원래 DB 클러스터가 삭제됩니다.  
`SnapshotIdentifier` DB 클러스터를 복원하기 위한 속성을 지정하는 경우(DB 클러스터 업데이트를 위해 지정하는 것과 반대) 다음 속성을 지정하지 마십시오.

- `GlobalClusterIdentifier`
- `MasterUsername`
- `MasterUserPassword`
- `ReplicationSourceIdentifier`
- `RestoreType`
- `SourceDBClusterIdentifier`
- `SourceRegion`
- `StorageEncrypted` (암호화된 스냅샷의 경우)
- `UseLatestRestorableTime`제약 조건:
- 기존 스냅샷의 식별자와 일치해야 합니다.
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`SourceDBClusterIdentifier` DB 클러스터를 특정 시점으로 복원할 때 복원할 원본 DB 클러스터의 식별자입니다.  
제약 조건:

- 기존 DBCluster의 식별자와 일치해야 합니다.
  유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 바꿔 놓음

`SourceRegion`  
DB 클러스터를 복제할 때 원본 DB 클러스터를 포함하는 AWS 리전입니다. 예를 들어, `us-east-1`.  
유효 기간: Aurora DB 클러스터만 해당  
*필수 항목 *여부: 아니요  
_유형_: 문자열  
_업데이트 필요 사항_: 바꿔 놓음

`StorageEncrypted`  
DB 클러스터가 암호화되었는지 여부를 나타냅니다.  
특성을 지정하는 경우 `KmsKeyId` 암호화를 사용 가능하게 해야 합니다.  
속성을 지정하는 경우 `SourceDBClusterIdentifier` 이 속성을 지정하지 마세요. 이 값은 원본 DB 클러스터에서 상속되며, DB 클러스터가 암호화된 경우 지정된 `KmsKeyId` 속성이 사용됩니다.  
지정 `SnapshotIdentifier` 하고 지정된 스냅샷이 암호화된 경우 이 속성을 지정하지 마세요. 이 값은 스냅숏에서 상속되며 지정된 `KmsKeyId` 속성이 사용됩니다.  
지정 `SnapshotIdentifier` 했는데 지정된 스냅샷이 암호화되지 않은 경우 이 속성을 사용하여 복원된 DB 클러스터가 암호화되도록 지정할 수 있습니다. `KmsKeyId` 암호화에 사용할 KMS 키의 속성을 지정합니다. 복원된 DB 클러스터를 암호화하지 않으려면 이 속성을 설정하거나 로 설정하지 마십시오`false`.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 바꿔 놓음

`StorageType`  
DB 클러스터와 연결할 스토리지 유형입니다.  
Aurora DB 클러스터의 스토리지 유형에 대한 자세한 내용은 Amazon Aurora DB 클러스터의 스토리지 구성 섹션을 참조하세요. 다중 AZ DB 클러스터의 스토리지 유형에 대한 자세한 내용은 다중 AZ DB 클러스터 생성 설정 섹션을 참조하세요.  
이 설정은 다중 AZ DB 클러스터를 생성하는 데 필요합니다.  
다중 AZ DB 클러스터에 대해 지정된 경우 파라미터 값이 `Iops` 필요합니다.  
클러스터 유형(Cluster Type): Aurora DB 클러스터 및 다중 AZ DB 클러스터(Multi-AZ DB clusters)에 유효합니다  
유효한 값 :

- Aurora DB 클러스터 - `aurora | aurora-iopt1`
- 다중 AZ DB 클러스터 - `io1`
  기본값:
- Aurora DB 클러스터 - `aurora`
- 다중 AZ DB 클러스터 - `io1`
  스토리지 유형이 로 설정된 Aurora DB 클러스터를 생성하면 `aurora-iopt1`스토리지 유형이 응답으로 반환됩니다. 스토리지 유형은 로 설정할 때 반환되지 않습니다`aurora`.
  *필수 항목 *여부: 아니요  
  _유형_: 문자열  
  _업데이트 필요 사항_: 중단 없음

`Tags`  
이 DB 클러스터에 적용할 키-값 페어의 선택적 배열입니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 태그 목록  
_업데이트 필요 사항_: 중단 없음

`UseLatestRestorableTime`  
DB 클러스터를 복원 가능한 최신 백업 시간으로 복원할지 여부를 나타내는 값입니다. 기본적으로 DB 클러스터는 복원 가능한 최신 백업 시간으로 복원되지 않습니다.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 바꿔 놓음

`VpcSecurityGroupIds`  
이 DB 클러스터와 연결할 EC2 VPC 보안 그룹 목록입니다.  
리소스를 업데이트하려는 경우 공유 VPC에서 VPC 보안 그룹을 지정하지 마십시오.  
유효 기간: Aurora DB 클러스터 및 다중 AZ DB 클러스터  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_업데이트 필요 사항_: 중단 없음

## 반환 값

### 참고문헌

이 리소스의 논리적 ID를 내장 함수에 전달하면 `Ref` `Ref`DB 클러스터의 이름을 반환합니다.

함수 사용에 대한 자세한 `Ref`내용은 Ref를 참조하세요.

### Fn::GetAtt

`Fn::GetAtt`내장 함수는 이 형식의 지정된 특성에 대한 값을 반환합니다. 다음은 사용 가능한 특성 및 샘플 반환 값입니다.

내장 함수 사용에 대한 자세한 `Fn::GetAtt`내용은 Fn::GetAtt 단원을 참조하십시오.

####

`DBClusterArn` DB 클러스터의 Amazon 리소스 이름(ARN)입니다.

`DBClusterResourceId` DB 클러스터에 대한 AWS 리전 고유의 변경할 수 없는 식별자입니다. 이 식별자는 DB 클러스터의 KMS 키에 액세스할 때마다 AWS CloudTrail 로그 항목에서 찾을 수 있습니다.

`Endpoint` DB 클러스터의 기본 인스턴스에 대한 연결 엔드포인트입니다.

`Endpoint.Address`  
DB 클러스터의 연결 엔드포인트입니다. 예를 들어: `mystack-mydbcluster-123456789012.us-east-2.rds.amazonaws.com`

`Endpoint.Port`  
이 DB 클러스터에서 연결을 수락할 포트 번호입니다. 예를 들어: `3306`

`MasterUserSecret.SecretArn` 보안 암호의 Amazon 리소스 이름(ARN)입니다.

`ReadEndpoint.Address`  
DB 클러스터의 리더 엔드포인트입니다. 예를 들어: `mystack-mydbcluster-ro-123456789012.us-east-2.rds.amazonaws.com`

## 예제

다음 예제에서는 DB 클러스터를 생성합니다.

**메모**  
Application Auto Scaling을 사용하여 DB 클러스터에 대한 조정 정책을 추가하는 예제는 Aurora DB 클러스터에 대한 조정 정책 선언 섹션을 참조하세요.

### 두 개의 DB 인스턴스가 있는 Amazon Aurora DB 클러스터 생성

다음 예제에서는 Amazon Aurora DB 클러스터를 생성하고 두 개의 DB 인스턴스를 추가합니다. Amazon RDS는 클러스터에 라이터 및 리더 DB 인스턴스를 자동으로 할당하기 때문에 개별 DB 인스턴스 엔드포인트가 아닌 클러스터 엔드포인트를 사용하여 데이터를 읽고 씁니다.

**메모**  
이 예제에서는 `time_zone` Aurora MySQL 파라미터를 사용합니다. Aurora PostgreSQL의 경우 파라미터를 `timezone` 대신 사용합니다.

#### JSON (영문)

```
{
    "Parameters": {
        "Username": {
            "NoEcho": "true",
            "Description": "Username for Aurora MySQL database access",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "16",
            "Default": "bevelvoerder",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "must begin with a letter and contain only alphanumeric characters."
        },
        "Password": {
            "NoEcho": "true",
            "Description": "Password for Aurora MySQL database access",
            "Type": "String",
            "MinLength": "8",
            "MaxLength": "41",
            "Default": "Passw0rd",
            "AllowedPattern": "[a-zA-Z0-9]*",
            "ConstraintDescription": "must contain only alphanumeric characters."
        }
    },
    "Resources": {
        "RDSCluster": {
            "Type": "AWS::RDS::DBCluster",
            "Properties": {
                "MasterUsername": {
                    "Ref": "Username"
                },
                "MasterUserPassword": {
                    "Ref": "Password"
                },
                "Engine": "aurora-mysql",
                "DBClusterParameterGroupName": {
                    "Ref": "RDSDBClusterParameterGroup"
                }
            }
        },
        "RDSDBInstance1": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
                "DBParameterGroupName": {
                    "Ref": "RDSDBParameterGroup"
                },
                "Engine": "aurora-mysql",
                "DBClusterIdentifier": {
                    "Ref": "RDSCluster"
                },
                "PubliclyAccessible": "true",
                "DBInstanceClass": "db.r3.xlarge"
            }
        },
        "RDSDBInstance2": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
                "DBParameterGroupName": {
                    "Ref": "RDSDBParameterGroup"
                },
                "Engine": "aurora-mysql",
                "DBClusterIdentifier": {
                    "Ref": "RDSCluster"
                },
                "PubliclyAccessible": "true",
                "DBInstanceClass": "db.r3.xlarge"
            }
        },
        "RDSDBClusterParameterGroup": {
            "Type": "AWS::RDS::DBClusterParameterGroup",
            "Properties": {
                "Description": "CloudFormation Sample Aurora Cluster Parameter Group",
                "Family": "aurora5.6",
                "Parameters": {
                    "time_zone": "US/Eastern"
                }
            }
        },
        "RDSDBParameterGroup": {
            "Type": "AWS::RDS::DBParameterGroup",
            "Properties": {
                "Description": "CloudFormation Sample Aurora Parameter Group",
                "Family": "aurora5.6",
                "Parameters": {
                    "sql_mode": "IGNORE_SPACE",
                    "max_allowed_packet": 1024,
                    "innodb_buffer_pool_size": "{DBInstanceClassMemory*3/4}"
                }
            }
        }
    }
}
```

### 로그를 Amazon CloudWatch Logs로 내보내는 Amazon Aurora DB 클러스터 생성

다음 예제에서는 로그를 Amazon CloudWatch Logs로 내보내는 Amazon Aurora PostgreSQL DB 클러스터를 생성합니다. Aurora DB 클러스터 로그를 Amazon CloudWatch Logs로 내보내는 방법에 대한 자세한 내용은 Amazon Aurora 사용 설명서의 Amazon CloudWatch Logs에 데이터베이스 로그 게시를 참조하십시오\*\*.

#### JSON (영문)

```
{
  "AWSTemplateFormatVersion" : "2010-09-09",


  "Description" : "AWS CloudFormation Sample Template for sending Aurora DB cluster logs to CloudWatch Logs: Sample template showing how to create an Aurora PostgreSQL DB cluster that exports logs to CloudWatch Logs. **WARNING** This template enables log exports to CloudWatch Logs. You will be billed for the AWS resources used if you create a stack from this template.",


  "Parameters" : {
      "DBUsername" : {
        "NoEcho" : "true",
        "Description" : "Username for PostgreSQL database access",

        "Type" : "String",
        "MinLength" : "1",
        "MaxLength" : "16",
        "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*",
        "ConstraintDescription" : "must begin with a letter and contain only alphanumeric characters."
      },
      "DBPassword" : {
        "NoEcho" : "true",
        "Description" : "Password for PostgreSQL database access",

        "Type" : "String",
        "MinLength" : "8",

        "MaxLength" : "41",
        "AllowedPattern" : "[a-zA-Z0-9]*",
        "ConstraintDescription" : "must contain only alphanumeric characters."
      }
  },

  "Resources" : {
      "RDSCluster" : {
          "Type": "AWS::RDS::DBCluster",
          "Properties" : {
              "MasterUsername" : {
                  "Ref" : "DBUsername"
              },
              "MasterUserPassword" : {
                  "Ref" : "DBPassword"
              },
              "DBClusterIdentifier" : "aurora-postgresql-cluster",
              "Engine" : "aurora-postgresql",
              "EngineVersion" : "10.7",
              "DBClusterParameterGroupName" : "default.aurora-postgresql10",
              "EnableCloudwatchLogsExports" : ["postgresql"]
          }
      },
  "RDSDBInstance1": {
        "Type" : "AWS::RDS::DBInstance",
        "Properties" : {
            "DBInstanceIdentifier" : "aurora-postgresql-instance1",
            "Engine" : "aurora-postgresql",
            "DBClusterIdentifier" : {
                "Ref" : "RDSCluster"
            },
            "PubliclyAccessible" : "true",
            "DBInstanceClass" : "db.r4.large"
        }
    },
  "RDSDBInstance2": {
        "Type" : "AWS::RDS::DBInstance",
        "Properties" : {
            "DBInstanceIdentifier" : "aurora-postgresql-instance2",
            "Engine" : "aurora-postgresql",
            "DBClusterIdentifier" : {
                "Ref" : "RDSCluster"
            },
            "PubliclyAccessible" : "true",
            "DBInstanceClass" : "db.r4.large"
        }
    },
  }
}
```

### 다중 AZ DB 클러스터 생성

다음 예제에서는 다중 AZ DB 클러스터를 생성합니다. 다중 AZ DB 클러스터에는 라이터 DB 인스턴스 1개와 리더 DB 인스턴스 2개가 동일한 AWS 리전의 개별 가용 영역 3개에 있습니다. 다중 AZ DB 클러스터는 고가용성, 읽기 워크로드 용량 증가, 쓰기 지연 시간 단축을 제공합니다. 다중 AZ DB 클러스터를 생성하는 동안 지원되는 DB 엔진 및 DB 엔진 버전을 지정해야 합니다. 자세한 내용은 _Amazon RDS 사용 설명서의 다중 AZ DB 클러스터 배포를 참조하세요_.

#### JSON (영문)

```
{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "AWS CloudFormation Sample Template for creating a Multi-AZ DB cluster.",
    "Parameters": {
        "DBUsername": {
            "NoEcho": "true",
            "Description": "Username for database access",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "16",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must begin with a letter and contain only alphanumeric characters."
        },
        "DBPassword": {
            "NoEcho": "true",
            "Description": "Password for database access",
            "Type": "String",
            "MinLength": "8",
            "MaxLength": "41",
            "AllowedPattern": "[a-zA-Z0-9]*",
            "ConstraintDescription": "Must contain only alphanumeric characters."
        },
        "DBClusterIdentifier": {
            "Type": "String"
        },
        "Engine": {
            "Type": "String"
        },
        "EngineVersion": {
            "Type": "String"
        },
        "AllocatedStorage": {
            "Type": "Number"
        },
        "Iops": {
            "Type": "Number"
        }
    },
    "Resources": {
        "MultiAZDBCluster": {
            "Type": "AWS::RDS::DBCluster",
            "Properties": {
                "MasterUsername": {
                    "Ref": "DBUsername"
                },
                "MasterUserPassword": {
                    "Ref": "DBPassword"
                },
                "DBClusterIdentifier": {
                    "Ref": "DBClusterIdentifier"
                },
                "Engine": {
                    "Ref": "Engine"
                },
                "EngineVersion": {
                    "Ref": "EngineVersion"
                },
                "AllocatedStorage": {
                    "Ref": "AllocatedStorage"
                },
                "Iops": {
                    "Ref": "Iops"
                },
                "DBClusterInstanceClass": "db.r6gd.xlarge",
                "BackupRetentionPeriod": 1,
                "StorageType": "io1"
            }
        }
    }
}
```

### Amazon Aurora Serverless v2 DB 클러스터 생성

다음 예제에서는 Amazon Aurora Serverless v2 DB 클러스터를 생성합니다. Aurora Serverless v2는 워크로드를 모니터링하고 데이터베이스의 용량을 조정하는 프로세스를 자동화합니다. 응용 프로그램의 요구 사항을 충족하는 데 필요한 데이터베이스 리소스를 제공하기 위해 용량을 증분으로 조정합니다. 자세한 내용은 Amazon Aurora 사용 설명서의 Amazon Aurora Serverless v2 사용을 참조하세요\*\*.

Amazon Aurora Serverless v2 DB 클러스터를 생성할 때 지원되는 엔진 버전을 제공해야 합니다. 자세한 내용은 Amazon Aurora 사용 설명서의 Aurora Serverless v2를 참조하세요\*\*.

**메모**  
이 예제에서는 를 설정하여 Aurora MySQL Serverless v2 DB 클러스터 `Engine` 를 생성합니다`aurora-mysql`.

#### JSON (영문)

```
{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "ServerlessV2 Cluster",
    "Parameters": {
        "MasterUsername": {
            "Type": "String"
        },
        "MasterUserPassword": {
            "Type": "String",
            "NoEcho": true
        },
        "DBClusterIdentifier": {
            "Type": "String"
        },
        "EngineVersion": {
            "Type": "String"
        },
        "MinCapacity": {
            "Type": "String"
        },
        "MaxCapacity": {
            "Type": "String"
        }
    },
    "Resources": {
        "RDSDBCluster": {
            "Type": "AWS::RDS::DBCluster",
            "Properties": {
                "Engine": "aurora-mysql",
                "DBClusterIdentifier": {
                    "Ref": "DBClusterIdentifier"
                },
                "EngineVersion": {
                    "Ref": "EngineVersion"
                },
                "MasterUsername": {
                    "Ref": "MasterUsername"
                },
                "MasterUserPassword": {
                    "Ref": "MasterUserPassword"
                },
                "ServerlessV2ScalingConfiguration": {
                    "MinCapacity": {
                        "Ref": "MinCapacity"
                    },
                    "MaxCapacity": {
                        "Ref": "MaxCapacity"
                    }
                }
            }
        },
        "RDSDBInstance": {
            "Type": "AWS::RDS::DBInstance",
            "Properties": {
                "Engine": "aurora-mysql",
                "DBInstanceClass": "db.serverless",
                "DBClusterIdentifier": {
                    "Ref": "RDSDBCluster"
                }
            }
        }
    }
}
```

### Amazon Aurora Serverless v1 DB 클러스터 생성

다음 예제에서는 Amazon Aurora Serverless v1 DB 클러스터를 생성합니다. Aurora Serverless v1 DB 클러스터는 애플리케이션의 요구 사항에 따라 컴퓨팅 파워를 자동으로 시작 및 종료하고 확장 또는 축소하는 DB 클러스터입니다. Aurora Serverless v1 DB 클러스터에 대한 자세한 내용은 _Amazon Aurora 사용 설명서의 Amazon Aurora Serverless 사용을 참조하세요_.

**메모**  
이 예제에서는 를 및 로 설정하여 Aurora MySQL Serverless DB 클러스터 `Engine` `aurora` `EngineVersion` 를 `5.6.10a` 생성합니다. Aurora PostgreSQL Serverless DB 클러스터를 생성하려면 `Engine` 로 `aurora-postgresql` 및 `EngineVersion` 로 설정합니다`10.7`.

#### JSON (영문)

```
{
  "AWSTemplateFormatVersion" : "2010-09-09",

  "Description" : "AWS CloudFormation Sample Template AuroraServerlessDBCluster: Sample template showing how to create an Amazon Aurora Serverless DB cluster. **WARNING** This template creates an Amazon Aurora DB cluster. You will be billed for the AWS resources used if you create a stack from this template.",

  "Parameters" : {
      "DBUsername" : {
        "NoEcho" : "true",
        "Description" : "Username for MySQL database access",
        "Type" : "String",
        "MinLength" : "1",
        "MaxLength" : "16",
        "AllowedPattern" : "[a-zA-Z][a-zA-Z0-9]*",
        "ConstraintDescription" : "must begin with a letter and contain only alphanumeric characters."
      },
      "DBPassword" : {
        "NoEcho" : "true",
        "Description" : "Password MySQL database access",
        "Type" : "String",
        "MinLength" : "8",
        "MaxLength" : "41",
        "AllowedPattern" : "[a-zA-Z0-9]*",
        "ConstraintDescription" : "must contain only alphanumeric characters."
      }
  },
  "Resources" : {
      "RDSCluster" : {
          "Type": "AWS::RDS::DBCluster",
          "Properties" : {
              "MasterUsername" : {
                  "Ref": "DBUsername"
              },
              "MasterUserPassword" : {
                  "Ref": "DBPassword"
              },
              "DBClusterIdentifier" : "my-serverless-cluster",
              "Engine" : "aurora",
              "EngineVersion" : "5.6.10a",
              "EngineMode" : "serverless",
              "ScalingConfiguration" : {
                  "AutoPause" : true,
                  "MinCapacity" : 4,
                  "MaxCapacity" : 32,
                  "SecondsUntilAutoPause" : 1000
              }
          }
      }
  }
}
```

### 마스터 암호에 대한 Secrets Manager 보안 암호 생성

다음 예제에서는 관리형 마스터 사용자 암호 기능이 있는 AWS::RDS::D BInstance 리소스를 사용하여 AWS CloudFormation 스택을 생성합니다. DB 인스턴스를 인증하는 데 사용되는 보안 암호는 `Secret` 스택 출력에 표시됩니다. 이 값을 다른 CloudFormation 스택에 표시할 필요가 없는 경우 이 출력을 제거할 수 있습니다.

Secrets Manager를 사용한 암호 관리에 대한 자세한 내용은 *Amazon RDS 사용 설명서의 AWS Secrets Manager를 사용한 암호 관리 및 *Amazon Aurora 사용 설명서*의 AWS Secrets Manager를 사용한 암호 관리를 * 참조하세요.

#### JSON (영문)

```
{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "A sample template",
    "Resources": {
        "MyCluster": {
            "Properties": {
                "Engine": "aurora-mysql",
                "MasterUsername": "masteruser",
                "ManageMasterUserPassword": true,
                "MasterUserSecret": {
                    "KmsKeyId": {
                        "Ref": "KMSKey"
                    }
                }
            },
            "Type": "AWS::RDS::DBCluster"
        },
        "MyInstance": {
            "Properties": {
                "DBClusterIdentifier": {
                    "Ref": "MyCluster"
                },
                "DBInstanceClass": "db.t2.small",
                "Engine": "aurora-mysql",
                "PubliclyAccessible": "true"
            },
            "Type": "AWS::RDS::DBInstance"
        },
        "KMSKey": {
            "Type": "AWS::KMS::Key",
            "Properties": {
                "Description": "Manual test KMS key",
                "EnableKeyRotation": true,
                "KeyPolicy": {
                    "Version": "2012-10-17",
                    "Id": {
                        "Ref": "AWS::StackName"
                    },
                    "Statement": [
                        {
                            "Sid": "Allow administration of the key",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": {
                                    "Fn::Sub": "arn:${AWS::Partition}:iam::${AWS::AccountId}:root"
                                }
                            },
                            "Action": [
                                "kms:*"
                            ],
                            "Resource": "*"
                        }
                    ]
                }
            }
        }
    },
    "Outputs": {
        "Secret": {
            "Value": {
                "Fn::GetAtt": "MyCluster.MasterUserSecret.SecretArn"
            }
        }
    }
}
```
