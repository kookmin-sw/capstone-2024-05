# AWS::AutoScaling::AutoScalingGroup 인스턴스 요구 사항

혼합 인스턴스 정책의 인스턴스 유형에 대한 속성입니다. Amazon EC2 Auto Scaling은 지정된 요구 사항을 사용하여 인스턴스 유형을 식별합니다. 그런 다음 온디맨드 및 스팟 할당 전략을 사용하여 이러한 인스턴스 유형에서 인스턴스를 시작합니다.

여러 속성을 지정하면 지정된 속성을 모두 충족하는 인스턴스 유형을 얻을 수 있습니다. 속성에 대해 여러 값을 지정하면 지정된 값 중 하나를 충족하는 인스턴스 유형을 가져옵니다.

Amazon EC2 Auto Scaling이 일치하는 인스턴스 유형을 식별할 수 있는 인스턴스 유형 목록을 제한하려면 다음 파라미터 중 하나를 사용할 수 있지만 동일한 요청에서 둘 다 사용할 수는 없습니다.

- `AllowedInstanceTypes` - 목록에 포함할 인스턴스 유형입니다. 다른 모든 인스턴스 유형은 지정된 속성과 일치하더라도 무시됩니다.
- `ExcludedInstanceTypes` - 목록에서 제외할 인스턴스 유형(지정된 속성과 일치하는 경우에도 해당).

**메모**  
및 를 지정해야 합니다 `VCpuCount` `MemoryMiB`. 다른 모든 특성은 선택 사항입니다. 지정되지 않은 선택적 특성은 기본값으로 설정됩니다.

예제 템플릿은 Auto Scaling 템플릿 코드 조각 섹션을 참조하세요.

자세한 내용은 Amazon EC2 Auto Scaling 사용 설명서*의 속성 기반 인스턴스 유형 선택을 사용하여 오토 스케일링 생성을 참조하세요*. Auto Scaling 그룹에 적용하기 전에 속성과 일치하는 인스턴스 유형을 확인하는 데 도움이 필요하면 _Linux 인스턴스용 Amazon EC2 사용 설명서의 지정된 속성이 있는 인스턴스 유형 미리 보기를 참조하세요_.

`InstanceRequirements` 은 `LaunchTemplateOverrides` AWS::AutoScaling::AutoScalingGroup LaunchTemplate 속성 유형의 속성 중 하나입니다.

## 통사론

AWS CloudFormation 템플릿에서 이 엔터티를 선언하려면 다음 구문을 사용합니다.

### JSON (영문)

```
{
  "AcceleratorCount" : AcceleratorCountRequest,
  "AcceleratorManufacturers" : [ String, ... ],
  "AcceleratorNames" : [ String, ... ],
  "AcceleratorTotalMemoryMiB" : AcceleratorTotalMemoryMiBRequest,
  "AcceleratorTypes" : [ String, ... ],
  "AllowedInstanceTypes" : [ String, ... ],
  "BareMetal" : String,
  "BaselineEbsBandwidthMbps" : BaselineEbsBandwidthMbpsRequest,
  "BurstablePerformance" : String,
  "CpuManufacturers" : [ String, ... ],
  "ExcludedInstanceTypes" : [ String, ... ],
  "InstanceGenerations" : [ String, ... ],
  "LocalStorage" : String,
  "LocalStorageTypes" : [ String, ... ],
  "MemoryGiBPerVCpu" : MemoryGiBPerVCpuRequest,
  "MemoryMiB" : MemoryMiBRequest,
  "NetworkBandwidthGbps" : NetworkBandwidthGbpsRequest,
  "NetworkInterfaceCount" : NetworkInterfaceCountRequest,
  "OnDemandMaxPricePercentageOverLowestPrice" : Integer,
  "RequireHibernateSupport" : Boolean,
  "SpotMaxPricePercentageOverLowestPrice" : Integer,
  "TotalLocalStorageGB" : TotalLocalStorageGBRequest,
  "VCpuCount" : VCpuCountRequest
}
```

## 속성

`AcceleratorCount`  
인스턴스 유형에 대한 액셀러레이터(GPU, FPGA 또는 AWS Inferentia 칩)의 최소 및 최대 수입니다.  
액셀러레이터를 사용하는 인스턴스 유형을 제외하려면 `Max` 로 `0` 설정합니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: AcceleratorCountRequest  
_업데이트 필요 사항_: 중단 없음

`AcceleratorManufacturers` 인스턴스 유형에 특정 제조업체의 액셀러레이터가 있어야 하는지 여부를 나타냅니다.

- NVIDIA 디바이스가 있는 인스턴스 유형의 경우 를 지정합니다 `nvidia`.
- AMD 장치가 있는 인스턴스 유형의 경우 을 지정합니다 `amd`.
- AWS 디바이스가 있는 인스턴스 유형의 경우 을 지정합니다 `amazon-web-services`.
- Xilinx 장치가 있는 인스턴스 유형의 경우 를 지정합니다`xilinx`.
  기본값: 모든 제조업체  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`AcceleratorNames` 인스턴스 유형에 있어야 하는 액셀러레이터를 나열합니다.

- NVIDIA A100 GPU를 사용하는 인스턴스 유형의 경우 을 지정합니다 `a100`.
- NVIDIA V100 GPU를 사용하는 인스턴스 유형의 경우 을 지정합니다 `v100`.
- NVIDIA K80 GPU가 있는 인스턴스 유형의 경우 을 지정합니다 `k80`.
- NVIDIA T4 GPU가 있는 인스턴스 유형의 경우 을 지정합니다 `t4`.
- NVIDIA M60 GPU가 있는 인스턴스 유형의 경우 을 지정합니다 `m60`.
- AMD Radeon Pro V520 GPU를 사용하는 인스턴스 유형의 경우 를 지정합니다 `radeon-pro-v520`.
- Xilinx VU9P FPGA가 있는 인스턴스 유형의 경우 를 지정합니다`vu9p`.
  기본값: 모든 액셀러레이터  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`AcceleratorTotalMemoryMiB`  
인스턴스 유형의 액셀러레이터에 대한 최소 및 최대 총 메모리 크기(MiB)입니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: AcceleratorTotalMemoryMiBRequest  
_업데이트 필요 사항_: 중단 없음

`AcceleratorTypes` 인스턴스 유형에 있어야 하는 액셀러레이터 유형을 나열합니다.

- GPU 액셀러레이터가 있는 인스턴스 유형의 경우 를 지정합니다 `gpu`.
- FPGA 액셀러레이터가 있는 인스턴스 유형의 경우 를 지정합니다 `fpga`.
- 추론 액셀러레이터가 있는 인스턴스 유형의 경우 를 지정합니다`inference`.
  기본값: 모든 액셀러레이터 유형  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`AllowedInstanceTypes`  
지정된 속성을 적용할 인스턴스 유형입니다. 다른 모든 인스턴스 유형은 지정된 속성과 일치하더라도 무시됩니다.  
별표()로 표시된 하나 이상의 와일드카드와 함께 문자열을 사용하여 `*`인스턴스 유형, 크기 또는 생성을 허용할 수 있습니다. 예를 들면 `m5.8xlarge`, `c5*.*`, , `m5a.*`, `r*`, `*3*`입니다.  
예를 들어 를 지정하면 `c5*`Amazon EC2 Auto Scaling은 모든 C5a 및 C5n 인스턴스 유형을 포함하는 전체 C5 인스턴스 패밀리를 허용합니다. 를 지정하면 `m5a.*`Amazon EC2 Auto Scaling은 모든 M5a 인스턴스 유형을 허용하지만 M5n 인스턴스 유형은 허용하지 않습니다.  
를 지정`AllowedInstanceTypes`하면 를 지정할 수 없습니다`ExcludedInstanceTypes`.
기본값: 모든 인스턴스 유형  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_최대_: `400`  
_업데이트 필요 사항_: 중단 없음

`BareMetal`  
베어 메탈 인스턴스 유형이 포함되는지, 제외되는지, 필요한지 여부를 나타냅니다.  
기본값: `excluded`  
_필수_: 아니요  
_유형_: 문자열  
_허용되는 값_: `excluded | included | required`  
_업데이트 필요 사항_: 중단 없음

`BaselineEbsBandwidthMbps`  
인스턴스 유형에 대한 최소 및 최대 기준 대역폭 성능(Mbps)입니다. 자세한 내용은 *Linux 인스턴스용 Amazon EC2 사용 설명서*의 Amazon EBS 최적화 인스턴스를 참조하세요.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: BaselineEbsBandwidthMbpsRequest  
_업데이트 필요 사항_: 중단 없음

`BurstablePerformance`  
성능 순간 확장 가능 인스턴스 유형이 포함되는지, 제외되는지, 필요한지를 나타냅니다. 자세한 내용은 _Linux 인스턴스용 Amazon EC2 사용 설명서의 버스트 가능한 성능 인스턴스를 참조하세요_.  
기본값: `excluded`  
_필수_: 아니요  
_유형_: 문자열  
_허용되는 값_: `excluded | included | required`  
_업데이트 필요 사항_: 중단 없음

`CpuManufacturers` 포함할 특정 CPU 제조업체를 나열합니다.

- Intel CPU를 사용하는 인스턴스 유형의 경우 를 지정합니다 `intel`.
- AMD CPU를 사용하는 인스턴스 유형의 경우 을 지정합니다 `amd`.
- AWS CPU가 있는 인스턴스 유형의 경우 을 지정합니다`amazon-web-services`.
  CPU 하드웨어 제조업체와 CPU 하드웨어 아키텍처를 혼동하지 마세요. 인스턴스는 시작 템플릿에서 지정한 Amazon 머신 이미지(AMI)를 기반으로 호환되는 CPU 아키텍처로 시작됩니다.
  기본값: 모든 제조업체  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`ExcludedInstanceTypes`  
제외할 인스턴스 유형입니다. 별표()로 표시된 하나 이상의 와일드카드와 함께 문자열을 사용하여 `*`인스턴스 패밀리, 유형, 크기 또는 세대를 제외할 수 있습니다. 예를 들면 `m5.8xlarge`, `c5*.*`, , `m5a.*`, `r*`, `*3*`입니다.  
예를 들어, 를 지정`c5*`하면 모든 C5a 및 C5n 인스턴스 유형을 포함하는 전체 C5 인스턴스 패밀리가 제외됩니다. 를 지정하면 `m5a.*`Amazon EC2 Auto Scaling은 모든 M5a 인스턴스 유형을 제외하지만 M5n 인스턴스 유형은 제외하지 않습니다.  
를 지정`ExcludedInstanceTypes`하면 를 지정할 수 없습니다`AllowedInstanceTypes`.
기본값: 제외된 인스턴스 유형 없음  
*필수 항목 *여부: 아니요  
_유형_: 문자열 목록  
_최대_: `400`  
_업데이트 필요 사항_: 중단 없음

`InstanceGenerations` 현재 세대 또는 이전 세대 인스턴스 유형이 포함되는지 여부를 나타냅니다.

- 현재 세대 인스턴스 유형의 경우 를 지정합니다`current`. 현재 세대에는 현재 사용을 권장하는 EC2 인스턴스 유형이 포함되어 있습니다. 여기에는 일반적으로 각 인스턴스 패밀리의 최신 2-3세대가 포함됩니다. 자세한 내용은 _Linux 인스턴스용 Amazon EC2 사용 설명서의 인스턴스 유형을 참조하세요_.
- 이전 세대 인스턴스 유형의 경우 를 지정합니다`previous`.
  기본값: 현재 또는 이전 세대  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`LocalStorage`  
인스턴스 스토어 볼륨이 있는 인스턴스 유형이 포함되는지, 제외되는지, 또는 필요한지를 나타냅니다. 자세한 내용은 _Linux 인스턴스용 Amazon EC2 사용 설명서의 Amazon EC2 인스턴스 스토어를 참조하세요_.  
기본값: `included`  
_필수_: 아니요  
_유형_: 문자열  
_허용되는 값_: `excluded | included | required`  
_업데이트 필요 사항_: 중단 없음

`LocalStorageTypes` 필요한 로컬 저장소의 유형을 나타냅니다.

- 하드 디스크 드라이브(HDD) 스토리지가 있는 인스턴스 유형의 경우 를 지정합니다 `hdd`.
- 솔리드 스테이트 드라이브(SSD) 스토리지가 있는 인스턴스 유형의 경우 를 지정합니다`ssd`.
  기본값: 모든 로컬 스토리지 유형  
  *필수 항목 *여부: 아니요  
  _유형_: 문자열 목록  
  _업데이트 필요 사항_: 중단 없음

`MemoryGiBPerVCpu`  
인스턴스 유형에 대한 vCPU당 최소 및 최대 메모리 양(GiB)입니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: MemoryGiBPerVCpuRequest  
_업데이트 필요 사항_: 중단 없음

`MemoryMiB`  
인스턴스 유형의 최소 및 최대 인스턴스 메모리 크기(MiB)입니다.  
*필수 항목 *여부: 아니요  
_형식_: MemoryMiBRequest  
_업데이트 필요 사항_: 중단 없음

`NetworkBandwidthGbps`  
네트워크 대역폭의 최소 및 최대 양(Gbps)입니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: NetworkBandwidthGbpsRequest  
_업데이트 필요 사항_: 중단 없음

`NetworkInterfaceCount`  
인스턴스 유형에 대한 최소 및 최대 네트워크 인터페이스 수입니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_유형_: NetworkInterfaceCountRequest  
_업데이트 필요 사항_: 중단 없음

`OnDemandMaxPricePercentageOverLowestPrice`  
온디맨드 인스턴스에 대한 가격 보호 임계값입니다. 이는 온디맨드 인스턴스에 대해 지불하는 최대 금액으로, 지정된 속성을 가진 가장 저렴한 현재 세대 M, C 또는 R 인스턴스 유형보다 높은 비율로 표시됩니다. Amazon EC2 Auto Scaling이 속성이 있는 인스턴스 유형을 선택하면 가격이 임계값보다 높은 인스턴스 유형은 제외됩니다. 파라미터는 Amazon EC2 Auto Scaling이 백분율로 해석하는 정수를 허용합니다. 가격 보호를 해제하려면 높은 값(예: )을 지정합니다 `999999`.  
 `DesiredCapacityType` `vcpu` 또는 `memory-mib`로 설정하면 인스턴스 당 가격 대신 vCPU 당 또는 메모리당 가격을 기준으로 가격 보호 임계값이 적용됩니다.  
기본값: `20`  
_필수_: 아니요  
_유형_: Integer  
_최소_: `0`  
_업데이트 필요 사항_: 중단 없음

`RequireHibernateSupport`  
인스턴스 유형이 온디맨드 인스턴스 최대 절전 모드 지원을 제공해야 하는지 여부를 나타냅니다.  
기본값: `false`  
_필수_: 아니요  
_유형_: Boolean  
_업데이트 필요 사항_: 중단 없음

`SpotMaxPricePercentageOverLowestPrice`  
스팟 인스턴스에 대한 가격 보호 임계값입니다. 이는 스팟 인스턴스에 대해 지불하는 최대 금액으로, 지정된 속성을 가진 가장 저렴한 현재 세대 M, C 또는 R 인스턴스 유형보다 높은 백분율로 표시됩니다. Amazon EC2 Auto Scaling이 속성이 있는 인스턴스 유형을 선택하면 가격이 임계값보다 높은 인스턴스 유형은 제외됩니다. 파라미터는 Amazon EC2 Auto Scaling이 백분율로 해석하는 정수를 허용합니다. 가격 보호를 해제하려면 높은 값(예: )을 지정합니다 `999999`.  
 `DesiredCapacityType` `vcpu` 또는 `memory-mib`로 설정하면 인스턴스 당 가격 대신 vCPU 당 또는 메모리당 가격을 기준으로 가격 보호 임계값이 적용됩니다.  
기본값: `100`  
_필수_: 아니요  
_유형_: Integer  
_최소_: `0`  
_업데이트 필요 사항_: 중단 없음

`TotalLocalStorageGB`  
인스턴스 유형에 대한 최소 및 최대 총 로컬 스토리지 크기(GB)입니다.  
기본값: 최소 또는 최대 제한 없음  
*필수 항목 *여부: 아니요  
_형식_: TotalLocalStorageGBRequest  
_업데이트 필요 사항_: 중단 없음

`VCpuCount`  
인스턴스 유형에 대한 최소 및 최대 vCPU 수입니다.  
*필수 항목 *여부: 아니요  
_형식_: VCpuCountRequest  
_업데이트 필요 사항_: 중단 없음
